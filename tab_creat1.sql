ALTER TABLE  EMPLOYEES1 DROP CONSTRAINT emp_fk; 
ALTER TABLE  DEPARTMENTS1 DROP CONSTRAINT dept_fk1; 
ALTER TABLE  DEPARTMENTS1 DROP CONSTRAINT dept_fk2; 
ALTER TABLE  PROJECTS1 DROP CONSTRAINT proj_fk; 
ALTER TABLE  WORKSON1 DROP CONSTRAINT wrk_fk1; 
ALTER TABLE  WORKSON1 DROP CONSTRAINT wrk_fk2;
ALTER TABLE  EMPLOYEES1 DROP CONSTRAINT emp_pk;
ALTER TABLE  DEPARTMENTS1 DROP CONSTRAINT dept_pk;  
ALTER TABLE  PROJECTS1 DROP CONSTRAINT proj_pk;

DROP TABLE EMPLOYEES1;
DROP TABLE DEPARTMENTS1;
DROP TABLE PROJECTS1;
DROP TABLE WORKSON1;

CREATE TABLE EMPLOYEES1 (
employeeid NUMERIC(9),
firstname VARCHAR(10),
lastname VARCHAR(20),
deptcode  CHAR(5),
salary NUMERIC(9,2),
CONSTRAINT emp_pk PRIMARY KEY(employeeid) 
);


CREATE TABLE DEPARTMENTS1 (
code CHAR(5),
name VARCHAR(30),
managerid  NUMERIC(9),
subdeptof  CHAR(5),
CONSTRAINT dept_pk  PRIMARY KEY(code)
);

CREATE TABLE PROJECTS1 (
projectid CHAR(8),
deptcode  CHAR(5),
description VARCHAR(200),
startdate DATE,
stopdate DATE,
revenue NUMERIC(12, 2),
CONSTRAINT proj_pk  PRIMARY KEY(projectid)
);

CREATE TABLE WORKSON1 (
employeeid NUMERIC(9),
projectid CHAR(8),
assignedtime DECIMAL(3,2)
) ;




INSERT INTO EMPLOYEES1 VALUES (212345,'JAMES','CAMERON','ACC',274000.00);
INSERT INTO EMPLOYEES1 VALUES (212346,'SHRIYA','PATEL','SALS',174000.00);
INSERT INTO EMPLOYEES1 VALUES (212347,'SRINATH','JOSHI','IT1',354000.00);

INSERT INTO DEPARTMENTS1 VALUES ('ACC','ACCOUNT SECTION',212345,NULL);
INSERT INTO DEPARTMENTS1 VALUES ('SALS','SALES DIVISION',212346,NULL);
INSERT INTO DEPARTMENTS1 VALUES ('IT1','IT SUPPORT1',212347,NULL);
INSERT INTO DEPARTMENTS1 VALUES ('IT2','IT SUPPORT2',212347,'IT1');

INSERT INTO PROJECTS1 VALUES ( 'JPMORGAN','ACC','J P MORGAN INSURANCE SOULUTIONS','03-JUN-2013','03-SEP-2013',67000000.00);
INSERT INTO PROJECTS1 VALUES ( 'SBICBSSO','IT1','SBI CBS SUPPORT','03-JUL-2013','03-DEC-2013',15000000.00);

INSERT INTO WORKSON1 VALUES (212345,'JPMORGAN',0.75);
INSERT INTO WORKSON1 VALUES (212347,'SBICBSSO',0.85);

ALTER TABLE  EMPLOYEES1 ADD CONSTRAINT emp_fk FOREIGN KEY(deptcode) REFERENCES  DEPARTMENTS1(code);
ALTER TABLE  DEPARTMENTS1 ADD CONSTRAINT dept_fk1 FOREIGN KEY(managerid)  REFERENCES EMPLOYEES1(employeeid);
ALTER TABLE  DEPARTMENTS1 ADD CONSTRAINT dept_fk2 FOREIGN KEY(subdeptof)  REFERENCES DEPARTMENTS1(code);
ALTER TABLE  PROJECTS1 ADD CONSTRAINT proj_fk FOREIGN KEY(deptcode)  REFERENCES DEPARTMENTS1(code);
ALTER TABLE  WORKSON1 ADD CONSTRAINT wrk_fk1 FOREIGN KEY(employeeid)  REFERENCES EMPLOYEES1(employeeid);
ALTER TABLE  WORKSON1 ADD CONSTRAINT wrk_fk2 FOREIGN KEY(projectid)  REFERENCES PROJECTS1(projectid);
